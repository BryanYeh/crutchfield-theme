{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}

<h1 class="text-5xl font-bold px-8 pb-3">{{ product.title }}</h1>

<div class="flex mx-auto flex-wrap mb-20" data-id="{{ current_variant.id }}">
  <div class="w-full md:w-6/12 lg:w-7/12 px-4">
    <div class="swiper-container gallery-top hover:text-red-600 cursor-pointer">
      <div class="swiper-wrapper">
        {% for image in product.images %}
        <div class="swiper-slide" {% if image.src == featured_image %} data-default-slide="{{ forloop.index0 }}" {% endif %}>
          <img src="{{ image.src | img_url: 'master' }}" class="mx-auto" alt="{{ image.alt | escape }}">
          <div class="zoom text-center">
            <span class="gallery-image-caption font-bold text-lg">{{ product.title }} - {{ image.alt | escape }}</span>
            <i class="las la-search-plus float-right text-2xl"></i>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
    <div class="gallery-thumbs pt-1 pb-2 flex flex-wrap">
        {% for image in product.images %}
          <img src="{{ image.src | img_url: '90x90' }}" class="m-1 border border-gray-500 current-thumb p-3 hover:border-black" alt="{{ image.alt | escape }}" data-thumbs-index="{{ forloop.index0 }}">
        {% endfor %}
    </div>
  </div>
  <div class="w-full md:w-6/12 lg:w-5/12 px-4 border-l border-solid border-gray-500">
    <span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>
    {% if current_variant.available %}
      <div class="text-lg"><i class="availability las la-check-circle"></i> <span class="availability_text">In Stock<span></div>
    {% else %}
      <div class="text-lg"><i class="availability las la-times-circle"></i> <span class="availability_text">Out of Stock<span></div>
    {% endif %}

    {% unless product.has_only_default_variant %}
      {% for option in product.options %}
      <label for="variation-select-{{ option | downcase }}" class="block mt-2">{{ option }}</label>
      <select name="" id="variation-select-{{ option | downcase }}" class="variation-option-select border border-gray-500 p-2 focus:outline-none focus:shadow-outline focus:border-blue-200 block">
        {% for option_value in product.options_by_name[option].values %}
          <option value="{{ option_value }}" {% if current_variant.options contains option_value %}selected{% endif %}>{{ option_value }}</option>
        {% endfor %}
      </select>
      {% endfor %}
    {% endunless %}
    {% if product.available %}
      <button class="add-to-cart border border-red-600 bg-red-600 text-white text-3xl font-semibold hover:bg-white hover:text-red-600 focus:outline-none focus:shadow-md px-10 py-3 mt-3 block rounded">Add to Cart</button>
    {% else %}
      <button class="border border-red-600 bg-white text-red-600 cursor-not-allowed px-10 py-3 mt-2 text-3xl font-semibold block rounded">Sold Out</button>
    {% endif %}
  </div>
</div>

<ul class="lg:flex mx-auto hidden lg:w-8/12 flex-wrap">
  <li class="flex-1 text-center">
    <a class="product-tab bg-gray-200 font-semibold hover:text-red-600 inline-block px-10 py-4 text-2xl text-black cursor-pointer" data-href="description">Description</a>
  </li>
  <li class="flex-1 text-center">
    <a class="product-tab font-semibold hover:text-red-600 inline-block px-10 py-4 text-2xl text-black cursor-pointer" data-href="reviews">Reviews</a>
  </li>
</ul>

<div class="bg-gray-200 flex flex-wrap">
  <div class="bg-white lg:p-4 lg:w-9/12 mx-auto my-10 shadow-md w-11/12">
    <a class="product-tab-mobile block font-semibold lg:hidden px-4 py-2 text-2xl text-red-600 w-full cursor-pointer border-b-2" data-href="description"><i class="las la-angle-up"></i> Description</a>
    <div id="description" class="product-tab-content block p-4 lg:p-0">
      {{ product.description }}
    </div>

    <a class="product-tab-mobile block font-semibold lg:hidden px-4 py-2 text-2xl text-red-600 w-full cursor-pointer border-b-2" data-href="reviews"><i class="las la-angle-up"></i> Reviews</a>
    <div id="reviews" class="product-tab-content hidden p-4 lg:p-0">
      <div id="shopify-product-reviews" data-id="{{product.id}}">{{ product.metafields.spr.reviews }}</div>
    </div>
  </div>

</div>













<script type="application/json" id="v_json">{{ product.variants | json }}</script>
	<!-- Root element of PhotoSwipe. Must have class pswp. -->
	<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

		<!-- Background of PhotoSwipe. 
			 It's a separate element as animating opacity is faster than rgba(). -->
		<div class="pswp__bg"></div>

		<!-- Slides wrapper with overflow:hidden. -->
		<div class="pswp__scroll-wrap">

			<!-- Container that holds slides. 
					PhotoSwipe keeps only 3 of them in the DOM to save memory.
					Don't modify these 3 pswp__item elements, data is added later on. -->
			<div class="pswp__container">
				<div class="pswp__item"></div>
				<div class="pswp__item"></div>
				<div class="pswp__item"></div>
			</div>

			<!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
			<div class="pswp__ui pswp__ui--hidden">

				<div class="pswp__top-bar">

					<!--  Controls are self-explanatory. Order can be changed. -->
					<div class="pswp__counter"></div>
					<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
					<button class="pswp__button pswp__button--share" title="Share"></button>
					<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
					<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

					<!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
					<!-- element will get class pswp__preloader--active when preloader is running -->
					<div class="pswp__preloader">
						<div class="pswp__preloader__icn">
							<div class="pswp__preloader__cut">
								<div class="pswp__preloader__donut"></div>
							</div>
						</div>
					</div>
				</div>

				<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
					<div class="pswp__share-tooltip"></div>
				</div>

				<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
				</button>

				<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
				</button>

				<div class="pswp__caption">
					<div class="pswp__caption__center"></div>
				</div>

			</div>

		</div>

	</div>
