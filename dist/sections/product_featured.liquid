{% if section.settings.collection_text != blank %}
    <div class="px-4 mx-auto text-center">
        <h2 class="font-semibold text-3xl underline">{{ section.settings.collection_text }}</h2>
    </div>  
{% endif %}

<div class="px-4 md:px-0 mx-auto container grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-4">
    {% for product in collections[section.settings.collection_set].products limit:section.settings.product_limit %}
        {% render 'product_card', product: product %}
    {% endfor %}
</div>


{% schema %}
    {
        "name": "Featured Products",
        "class": "flex flex-col justify-center pb-4",
        "settings": [
            {
                "type": "collection",
                "id": "collection_set",
                "label": "Collection"
            },
            {
                "type": "text",
                "id": "collection_text",
                "label": "Header",
                "default": "Featured Products"
            },
            {
                "type": "range",
                "id": "product_limit",
                "min": 4,
                "max": 16,
                "step": 4,
                "label": "Limit",
                "default": 4
            }
        ],
        "presets": [
            {
                "name": "Featured Products",
                "category": "Products"
            }
        ]
    }
{% endschema %}
